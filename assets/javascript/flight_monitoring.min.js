function removeFlightInfo(t) {
	Swal.fire({
		title: "Are you sure you want to remove this?",
		icon: "warning",
		showCancelButton: !0,
		allowOutsideClick: !1,
		allowEscapeKey: !1,
		confirmButtonColor: "#3085d6",
		cancelButtonColor: "#d33",
		confirmButtonText: "Yes, remove it!",
	}).then((i) => {
		i.value &&
			$.ajax({
				url: base_url + "remove-flight-information",
				type: "POST",
				data: { id: t },
				success: function (t) {
					t.type &&
						Swal.fire({
							icon: t.type,
							title: t.title,
							text: t.text,
							confirmButtonText: "Close",
							allowOutsideClick: !1,
							allowEscapeKey: !1,
						}).then(function () {
							"success" === t.type && location.reload(!0);
						});
				},
			});
	});
}
$(function () {
	formVessel("flight_vessel");
}),
	$(document).ready(function () {
		$("#flight_information_table").DataTable({
			ajax: { url: base_url + "flight-monitoring-table", type: "POST" },
			language: {
				paginate: {
					previous: "<i class='mdi mdi-chevron-left'>",
					next: "<i class='mdi mdi-chevron-right'>",
				},
			},
			drawCallback: function () {
				$(".dataTables_paginate > .pagination").addClass("pagination-rounded");
			},
		});

		$("#flight_information_form").submit(function () {
			$.ajax({
				url: base_url + "save-flight-information",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.flight_vessel, "flight_vessel"),
						validationInput(t.f_flight_number, "f_flight_number"),
						validationInput(t.f_departure_country, "f_departure_country"),
						validationInput(t.f_departure_date, "f_departure_date"),
						validationInput(t.f_departure_time, "f_departure_time"),
						validationInput(t.f_destination_country, "f_destination_country"),
						validationInput(t.f_destination_date, "f_destination_date"),
						validationInput(t.f_destination_time, "f_destination_time"),
						validationInput(t.f_airfare, "f_airfare"),
						validationInput(t.f_airline, "f_airline"),
						t.type &&
							Swal.fire({
								icon: t.type,
								title: t.title,
								text: t.text,
								confirmButtonText: "Close",
								allowOutsideClick: !1,
								allowEscapeKey: !1,
							}).then(function () {
								"success" === t.type &&
									($("#flight_information_form").trigger("reset"),
									$("#flight_information_table").DataTable().ajax.reload());
							});
				},
			});
		});

		$("#btnResetFlightInfo").click(function () {
			$("#flight_information_form").trigger("reset"),
				validationInput("", "flight_vessel"),
				validationInput("", "f_flight_number"),
				validationInput("", "f_departure_country"),
				validationInput("", "f_departure_date"),
				validationInput("", "f_departure_time"),
				validationInput("", "f_destination_country"),
				validationInput("", "f_destination_date"),
				validationInput("", "f_destination_time"),
				validationInput("", "f_airfare"),
				validationInput("", "f_airline");
		});

		$("#flight_vessel").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.flight_vessel, "flight_vessel");
				},
			});
		});

		$("#f_flight_number").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_flight_number, "f_flight_number");
				},
			});
		});

		$("#f_departure_country").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_departure_country, "f_departure_country");
				},
			});
		});

		$("#f_departure_date").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_departure_date, "f_departure_date");
				},
			});
		});

		$("#f_departure_time").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_departure_time, "f_departure_time");
				},
			});
		});

		$("#f_destination_country").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_destination_country, "f_destination_country");
				},
			});
		});

		$("#f_destination_date").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_destination_date, "f_destination_date");
				},
			});
		});

		$("#f_destination_time").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_destination_time, "f_destination_time");
				},
			});
		});

		$("#f_airfare").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_airfare, "f_airfare");
				},
			});
		});

		$("#f_airline").keyup(function () {
			$.ajax({
				url: base_url + "add-flight-information-validation",
				type: "POST",
				data: $("#flight_information_form").serialize(),
				success: function (t) {
					validationInput(t.f_airline, "f_airline");
				},
			});
		});

		$("#fm_export_as").on("change", function () {
			let document_format = this.value;

			if (document_format == "pdf") {
				window.open(base_url + "print-flight-monitoring", "blank");
			} else {
				window.open(
					base_url + "print-flight-monitoring" + "/" + document_format,
					"blank"
				);
			}
		});
	});
