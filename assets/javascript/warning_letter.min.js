function crewWarningLetterTable(){$("#crew_warning_letter_table").DataTable({ajax:{url:base_url+"get-warningletter-crew",type:"GET"},language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})}function deleteWatchlistedCrew(e){Swal.fire({title:"Are you sure you want to remove this?",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(a=>{a.value&&$.ajax({url:base_url+"delete-warningletter-crew",type:"POST",data:{id:e},success:function(e){e.type&&Swal.fire({icon:e.type,title:e.title,text:e.text,confirmButtonText:"Close",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){"success"===e.type&&location.reload(!0)})}})})}$(document).ready(function(){crewWarningLetterTable(),formAllCrewName("w_crew_name");var e=$("#w_crew_name").select2();e.on("change",function(e){var a=this.value;$.ajax({url:base_url+"search-warningletter-id",type:"POST",data:{app_code:a},success:function(e){e&&($("#w_rank").empty(),$("#w_department").empty(),$("#w_vessel").empty(),$("#w_applicant_code").empty(),$("#w_cname").empty(),$.each(e,function(e,a){$("#w_rank").append("<option value="+a.position+">"+a.position_name+"</option>"),$("#w_department").append("<option value="+a.type_of_department+">"+a.department_name+"</option>"),$("#w_vessel").append("<option value="+a.vessel_assign+">"+a.vsl_name+"</option>"),$("#w_applicant_code").val(a.applicant_code),$("#w_cname").val(a.full_name)}))}})})}),$("#crew_warning_letter_table").on("search.dt",function(){var e=$(".dataTables_filter input").val();$("#search").val(e)}),$("#crew_warning_letter_form").submit(function(){$.ajax({url:base_url+"insert-warningletter-crew",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_crew_name,"w_crew_name"),validationInput(e.w_rank,"w_rank"),validationInput(e.w_department,"w_department"),validationInput(e.w_vessel,"w_vessel"),validationInput(e.w_remarks,"w_remarks"),e.type&&Swal.fire({icon:e.type,title:e.title,text:e.text,confirmButtonText:"Close",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){"success"===e.type&&($("#crew_warning_letter_form")[0].reset(),location.reload(!0))})}})}),$("#export_as").change(function(){var e="warning_letter",a=$("#search").val();1==this.value?(window.open(base_url+"print-csv-report/"+e+"/"+a),$("#export_as").val("")):2==this.value?(window.open(base_url+"print-xl-report/"+e+"/"+a),$("#export_as").val("")):(window.open(base_url+"print-pdf-report/"+e+"/"+a),$("#export_as").val(""))}),$("#btnResetWarningLetter").click(function(){validationInput("","w_crew_name"),validationInput("","w_rank"),validationInput("","w_department"),validationInput("","w_vessel"),validationInput("","w_remarks"),$("#w_rank").find("option").remove().end().append('<option value="">Choose option</option>').val("0"),$("#w_department").find("option").remove().end().append('<option value="">Choose option</option>').val("0"),$("#w_vessel").find("option").remove().end().append('<option value="">Choose option</option>').val("0"),$("#w_crew_name").find("option").remove().end().append('<option value="">Select Crew Name</option>').val("0"),formAllCrewName("w_crew_name"),document.getElementById("crew_warning_letter_form").reset()}),$("#w_crew_name").change(function(){$.ajax({url:base_url+"add-warning-letter-validation",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_crew_name,"w_crew_name")}})}),$("#w_rank").change(function(){$.ajax({url:base_url+"add-warning-letter-validation",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_rank,"w_rank")}})}),$("#w_department").change(function(){$.ajax({url:base_url+"add-warning-letter-validation",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_department,"w_department")}})}),$("#w_vessel").change(function(){$.ajax({url:base_url+"add-warning-letter-validation",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_vessel,"w_vessel")}})}),$("#w_remarks").change(function(){$.ajax({url:base_url+"add-warning-letter-validation",type:"POST",data:$("#crew_warning_letter_form").serialize(),success:function(e){validationInput(e.w_remarks,"w_remarks")}})});